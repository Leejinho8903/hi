<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="/Lonely/assets/css/style1.css" rel="stylesheet">
</head>
<body>
    <div class="Main">
        <img id="mons" src="/Lonely/assets/img/1719c2e81fc4b6b0c.jpg">
        </div>
        <h4 id="mon">슬라임</h4>
        <div class="hp-bar">
            <div id="hbar" class="hp-bar-inner" style="width: 100%;"></div>
          </div>
        <button id="fire" onclick="fire()">공격</button>


        <div class="User" style="width: 100%;"></div>    
    
        <script>
            let monster = {
                name : "슬라임",
                hp : 100,
                attack : Math.floor(Math.random() * 21)
            };

            function fire(){
                const button = document.getElementById('fire');
                let damage = Math.floor(Math.random() * 21);
                monster.hp -= damage;
                const hpBar = document.querySelector("#hbar");
                const hp = parseInt(hpBar.style.width);
                monster.hp = hp - damage;
                if(monster.hp <= 0){
                    hpBar.style.width = '0%';
                    alert('몬스터를 처지하셨습니다!');
                } else if(monster.attack === 17){
                    setTimeout(function(){ button.disabled = false}, 30000);
                } else {
                    hpBar.style.width = monster.hp + '%';
                    alert(`${damage}만큼의 데미지를 주셨습니다!`);
                }

                if(monster.hp <= 30){
                    hpBar.style.backgroundColor = 'red';
                } else if(monster.hp <= 70){
                    hpBar.style.backgroundColor = 'orange';
                }
                
            };

            
        </script>
</body>
</html>